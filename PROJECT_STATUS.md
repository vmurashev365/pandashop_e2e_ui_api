# üìä –°—Ç–∞—Ç—É—Å –ø—Ä–æ–µ–∫—Ç–∞: Test Pyramid Framework –¥–ª—è Pandashop.md

## ‚úÖ –¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ
**–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è:** 2025-08-10  
**–°—Ç–∞—Ç—É—Å:** üü¢ –ì–û–¢–û–í –ö –ò–°–ü–û–õ–¨–ó–û–í–ê–ù–ò–Æ

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ Test Pyramid

### üìà –†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤ (200 —Ç–µ—Å—Ç–æ–≤)
- **üî≥ API Tests: 140 —Ç–µ—Å—Ç–æ–≤ (70%)**
  - 40 BDD Gherkin —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤ (tests/api/bdd/)
  - 100 —á–∏—Å—Ç—ã—Ö API —Ç–µ—Å—Ç–æ–≤ (contracts, performance, edge cases)
- **üî∑ UI Component Tests: 40 —Ç–µ—Å—Ç–æ–≤ (20%)**
  - –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
- **üî∫ E2E Tests: 20 —Ç–µ—Å—Ç–æ–≤ (10%)**
  - –ü–æ–ª–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏

## üõ†Ô∏è –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫

### –û—Å–Ω–æ–≤–Ω—ã–µ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏
- **Playwright + TypeScript** - –¥–ª—è –≤—Å–µ—Ö —É—Ä–æ–≤–Ω–µ–π —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
- **Cucumber/Gherkin** - –¥–ª—è BDD API —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤ (—Ä—É—Å—Å–∫–∏–π —è–∑—ã–∫)
- **Zod** - –¥–ª—è –≤–∞–ª–∏–¥–∞—Ü–∏–∏ —Å—Ö–µ–º API –∏ runtime –ø—Ä–æ–≤–µ—Ä–æ–∫
- **Axios** - HTTP –∫–ª–∏–µ–Ω—Ç –¥–ª—è API —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

### –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
- **ESLint + Prettier** - –¥–ª—è –∫–∞—á–µ—Å—Ç–≤–∞ –∫–æ–¥–∞
- **TypeScript** - —Å—Ç—Ä–æ–≥–∞—è —Ç–∏–ø–∏–∑–∞—Ü–∏—è
- **ts-node** - –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ TypeScript
- **Rimraf** - –æ—á–∏—Å—Ç–∫–∞ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç–æ–≤

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
tests/
‚îú‚îÄ‚îÄ api/                    # API —Ç–µ—Å—Ç—ã (140 —Ç–µ—Å—Ç–æ–≤)
‚îÇ   ‚îú‚îÄ‚îÄ bdd/               # BDD Gherkin —Å—Ü–µ–Ω–∞—Ä–∏–∏ (40 —Ç–µ—Å—Ç–æ–≤)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ features/      # .feature —Ñ–∞–π–ª—ã –Ω–∞ —Ä—É—Å—Å–∫–æ–º
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ step-definitions/ # –†–µ–∞–ª–∏–∑–∞—Ü–∏—è —à–∞–≥–æ–≤
‚îÇ   ‚îú‚îÄ‚îÄ pure/              # –ß–∏—Å—Ç—ã–µ API —Ç–µ—Å—Ç—ã (100 —Ç–µ—Å—Ç–æ–≤)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ contracts/     # –ö–æ–Ω—Ç—Ä–∞–∫—Ç–Ω—ã–µ —Ç–µ—Å—Ç—ã
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ performance/   # –ù–∞–≥—Ä—É–∑–æ—á–Ω—ã–µ —Ç–µ—Å—Ç—ã
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ security/      # –¢–µ—Å—Ç—ã –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ edge-cases/    # –ì—Ä–∞–Ω–∏—á–Ω—ã–µ —Å–ª—É—á–∞–∏
‚îÇ   ‚îú‚îÄ‚îÄ client/            # API –∫–ª–∏–µ–Ω—Ç —Å Zod –≤–∞–ª–∏–¥–∞—Ü–∏–µ–π
‚îÇ   ‚îî‚îÄ‚îÄ helpers/           # –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —É—Ç–∏–ª–∏—Ç—ã
‚îú‚îÄ‚îÄ ui/                     # UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–Ω—ã–µ —Ç–µ—Å—Ç—ã (40 —Ç–µ—Å—Ç–æ–≤)
‚îÇ   ‚îú‚îÄ‚îÄ components/        # –¢–µ—Å—Ç—ã –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
‚îÇ   ‚îî‚îÄ‚îÄ features/          # UI —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ —Ç–µ—Å—Ç—ã
‚îú‚îÄ‚îÄ e2e/                    # E2E —Ç–µ—Å—Ç—ã (20 —Ç–µ—Å—Ç–æ–≤)
‚îÇ   ‚îú‚îÄ‚îÄ features/          # E2E —Å—Ü–µ–Ω–∞—Ä–∏–∏
‚îÇ   ‚îî‚îÄ‚îÄ steps/             # –®–∞–≥–∏ E2E —Ç–µ—Å—Ç–æ–≤
‚îú‚îÄ‚îÄ shared/                 # –û–±—â–∏–µ —Ä–µ—Å—É—Ä—Å—ã
‚îÇ   ‚îú‚îÄ‚îÄ schemas/           # Zod —Å—Ö–µ–º—ã –¥–ª—è API
‚îÇ   ‚îú‚îÄ‚îÄ fixtures/          # –¢–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ
‚îÇ   ‚îî‚îÄ‚îÄ utils/             # –£—Ç–∏–ª–∏—Ç—ã
‚îî‚îÄ‚îÄ demo/                   # –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã
```

## üöÄ –ö–æ–º–∞–Ω–¥—ã –¥–ª—è –∑–∞–ø—É—Å–∫–∞

### –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã
```bash
npm test                    # –ó–∞–ø—É—Å–∫ –≤—Å–µ–π test pyramid
npm run test:api           # –¢–æ–ª—å–∫–æ API —Ç–µ—Å—Ç—ã (BDD + —á–∏—Å—Ç—ã–µ)
npm run test:ui            # –¢–æ–ª—å–∫–æ UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–Ω—ã–µ —Ç–µ—Å—Ç—ã
npm run test:e2e           # –¢–æ–ª—å–∫–æ E2E —Ç–µ—Å—Ç—ã
```

### –°–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã
```bash
npm run test:api:bdd       # –¢–æ–ª—å–∫–æ BDD API —Å—Ü–µ–Ω–∞—Ä–∏–∏
npm run test:api:pure      # –¢–æ–ª—å–∫–æ —á–∏—Å—Ç—ã–µ API —Ç–µ—Å—Ç—ã
npm run test:performance   # –¢–æ–ª—å–∫–æ –Ω–∞–≥—Ä—É–∑–æ—á–Ω—ã–µ —Ç–µ—Å—Ç—ã
npm run test:smoke         # Smoke —Ç–µ—Å—Ç—ã –≤—Å–µ—Ö —É—Ä–æ–≤–Ω–µ–π
```

### –£—Ç–∏–ª–∏—Ç—ã
```bash
npm run lint               # –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–∞—á–µ—Å—Ç–≤–∞ –∫–æ–¥–∞
npm run format             # –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–¥–∞
npm run type-check         # –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–∏–ø–æ–≤ TypeScript
npm run clean              # –û—á–∏—Å—Ç–∫–∞ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç–æ–≤
```

## ‚úÖ –ü—Ä–æ–≤–µ—Ä–µ–Ω–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å

### –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ API
- ‚úÖ –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ Pandashop.md —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ API client —Å Zod –≤–∞–ª–∏–¥–∞—Ü–∏–µ–π —Å–æ–∑–¥–∞–Ω
- ‚úÖ –°—Ö–µ–º—ã –¥–ª—è –≤—Å–µ—Ö –æ—Å–Ω–æ–≤–Ω—ã—Ö endpoint'–æ–≤ –≥–æ—Ç–æ–≤—ã

### –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã
- ‚úÖ API connectivity test - –ø—Ä–æ—à–µ–ª
- ‚úÖ API request structure test - –ø—Ä–æ—à–µ–ª  
- ‚úÖ Test pyramid architecture demo - –ø—Ä–æ—à–µ–ª

### –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
- ‚úÖ Playwright config –¥–ª—è –≤—Å–µ—Ö –ø—Ä–æ–µ–∫—Ç–æ–≤
- ‚úÖ Cucumber config –¥–ª—è BDD
- ‚úÖ TypeScript config
- ‚úÖ –í—Å–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã

## üìã –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏ –¥–ª—è –∫–æ–º–∞–Ω–¥—ã

### 1. –ò–º–ø–ª–µ–º–µ–Ω—Ç–∞—Ü–∏—è API —Ç–µ—Å—Ç–æ–≤ (140 —Ç–µ—Å—Ç–æ–≤)
- [ ] **BDD —Å—Ü–µ–Ω–∞—Ä–∏–∏ (40 —Ç–µ—Å—Ç–æ–≤)**
  - –†–∞—Å—à–∏—Ä–∏—Ç—å catalog-api.feature
  - –î–æ–±–∞–≤–∏—Ç—å —Å—Ü–µ–Ω–∞—Ä–∏–∏ –¥–ª—è cart, user, orders
  - –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –≤—Å–µ step definitions
  
- [ ] **–ö–æ–Ω—Ç—Ä–∞–∫—Ç–Ω—ã–µ —Ç–µ—Å—Ç—ã (30 —Ç–µ—Å—Ç–æ–≤)**
  - –¢–µ—Å—Ç—ã —Å—Ö–µ–º API responses
  - –í–∞–ª–∏–¥–∞—Ü–∏—è –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã—Ö –ø–æ–ª–µ–π
  - –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–∏–ø–æ–≤ –¥–∞–Ω–Ω—ã—Ö
  
- [ ] **Performance —Ç–µ—Å—Ç—ã (30 —Ç–µ—Å—Ç–æ–≤)**
  - Load testing –¥–ª—è –∫–∞—Ç–∞–ª–æ–≥–∞
  - Stress testing –∫–æ—Ä–∑–∏–Ω—ã
  - –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –≤—Ä–µ–º–µ–Ω–∏ –æ—Ç–≤–µ—Ç–∞
  
- [ ] **Security —Ç–µ—Å—Ç—ã (20 —Ç–µ—Å—Ç–æ–≤)**
  - –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏
  - –ü—Ä–æ–≤–µ—Ä–∫–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
  - SQL injection protection
  
- [ ] **Edge cases (20 —Ç–µ—Å—Ç–æ–≤)**
  - –ì—Ä–∞–Ω–∏—á–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è
  - –ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
  - –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

### 2. UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–Ω—ã–µ —Ç–µ—Å—Ç—ã (40 —Ç–µ—Å—Ç–æ–≤)
- [ ] –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –∫–∞—Ç–∞–ª–æ–≥–∞
- [ ] –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ—Ä–∑–∏–Ω—ã
- [ ] –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ñ–æ—Ä–º
- [ ] –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏

### 3. E2E —Ç–µ—Å—Ç—ã (20 —Ç–µ—Å—Ç–æ–≤)
- [ ] –ü–æ–ª–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏
- [ ] –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –±–∏–∑–Ω–µ—Å-–ø—Ä–æ—Ü–µ—Å—Å—ã
- [ ] Cross-browser —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

## üéØ –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ —Å–æ–∑–¥–∞–Ω–Ω–æ–≥–æ —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–∞

1. **–ü—Ä–∞–≤–∏–ª—å–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞** - Test Pyramid –≤–º–µ—Å—Ç–æ E2E-heavy –ø–æ–¥—Ö–æ–¥–∞
2. **BDD –ø–æ–¥–¥–µ—Ä–∂–∫–∞** - Gherkin —Å—Ü–µ–Ω–∞—Ä–∏–∏ –Ω–∞ —Ä—É—Å—Å–∫–æ–º —è–∑—ã–∫–µ
3. **Type Safety** - –ü–æ–ª–Ω–∞—è —Ç–∏–ø–∏–∑–∞—Ü–∏—è —Å TypeScript + Zod
4. **–ë—ã—Å—Ç—Ä—ã–µ API —Ç–µ—Å—Ç—ã** - 70% —Ç–µ—Å—Ç–æ–≤ –Ω–∞ API —É—Ä–æ–≤–Ω–µ
5. **–ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ** - –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
6. **–ö–∞—á–µ—Å—Ç–≤–æ –∫–æ–¥–∞** - ESLint, Prettier, —Å—Ç—Ä–æ–≥–∏–µ —Ç–∏–ø—ã
7. **–ì–∏–±–∫–æ—Å—Ç—å –∑–∞–ø—É—Å–∫–∞** - –ú–Ω–æ–∂–µ—Å—Ç–≤–æ npm scripts –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤

## üìù –ó–∞–º–µ—Ç–∫–∏ –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤

- –í—Å–µ API endpoints Pandashop.md –ø–æ–∫—Ä—ã—Ç—ã —Å—Ö–µ–º–∞–º–∏
- BDD scenarios –Ω–∞–ø–∏—Å–∞–Ω—ã –Ω–∞ —Ä—É—Å—Å–∫–æ–º –¥–ª—è business stakeholders
- –î–µ–º–æ —Ç–µ—Å—Ç—ã –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç –ø—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
- –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è —Å–æ–¥–µ—Ä–∂–∏—Ç quick start guide
- –§—Ä–µ–π–º–≤–æ—Ä–∫ –≥–æ—Ç–æ–≤ –∫ –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ–º—É –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é

**–°—Ç–∞—Ç—É—Å: –§—Ä–µ–π–º–≤–æ—Ä–∫ –ø–æ–ª–Ω–æ—Å—Ç—å—é –≥–æ—Ç–æ–≤ –∫ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ 200 —Ç–µ—Å—Ç–æ–≤ —Å–æ–≥–ª–∞—Å–Ω–æ test pyramid –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ** üéâ
